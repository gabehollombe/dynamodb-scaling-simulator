<!doctype html>
<html lang=en>
    <head>
        <meta charset=utf-8>
        <title>DDB Scaling Simulator</title>
        <script type="module" src="index.ts"></script>
    </head>
    <body>
        <div id="tableForm">
            <p>First, use this form to take you to CloudWatch where you can download a CSV of your data for the timeframe you're interested in.</p>
            <form>
                <div>
                    <label>
                        Region
                        <input type="text" name="region" placeholder="region (e.g. ap-southeast-1)" />
                    </label>
                </div>
                <div>
                    <label>
                        Table Name
                        <input type="text" name="tableName" placeholder="table_name (e.g. my_ddb_table_name)" />
                    </label>
                </div>

                <div>
                    <button>Get CloudWatch Metrics</button>
                </div>

                <div>
                    <p>Adjust the timeframe, and download by looking for this in CloudWatch</p>
                    <img src="./CloudWatch_SaveAsCSV.jpg"/>
                </div>
            </form>
        </div>

        <div id="csvForm">
            <p>Then use this form to select that downloaded CSV file and run the simulator.</p>
            <form>
                <div>
                    <label>
                        CSV File (from the step above)
                        <input type="file" name="csvFile" placeholder="cloudwatchExport.csv" />
                    </label>
                </div>

                <fieldset>
                    <legend>Simulated Read Capacity Autoscaling Config</legend>

                    <div>
                        <label>
                            RCU Min Capacity
                            <input type="number" name="rcu_min" value="5" step="1" />
                        </label>
                    </div>

                    <div>
                        <label>
                            RCU Max Capacity
                            <input type="number" name="rcu_max" value="500" step="1" />
                        </label>
                    </div>

                    <div>
                        <label>
                            RCU Target Utilization (enter a number between 0.3 and 0.9)
                            <input type="number" name="rcu_target" value="0.5" step="0.01" />
                        </label>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Simulated Write Capacity Autoscaling Config</legend>

                    <div>
                        <label>
                            WCU Min Capacity
                            <input type="number" name="wcu_min" value="5" step="1" />
                        </label>
                    </div>

                    <div>
                        <label>
                            WCU Max Capacity
                            <input type="number" name="wcu_max" value="500" step="1" />
                        </label>
                    </div>

                    <div>
                        <label>
                            WCU Target Utilization (enter a number between 0.3 and 0.9)
                            <input type="number" name="wcu_target" value="0.5" step="0.01" />
                        </label>
                    </div>
                </fieldset>

                <div>
                    <label>
                        Simulated Scaling Delay (in seconds)
                        <input type="number" name="delay" value="2" />
                    </label>
                </div>
                
                <div>
                    <button>Make Chart</button>
                </div>
            </form>
        </div>

        <div id="readsGraph"></div>

        <div id="writesGraph"></div>
    </body>
</html>